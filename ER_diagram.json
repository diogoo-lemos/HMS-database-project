{"ENTITY_ID":27,"tables":[{"id":"17755cce-ae42-40b3-8c39-f58a99517fd8","position":{"x":2125,"y":-78},"data":{"table_name":"service_user","fields":[{"fieldName":"user_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":true},{"fieldName":"name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"nationality","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"phone","fieldType":2,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"birthday","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"email","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"password","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":7,"checkName":["constraint_name","constraint_phone","constraint_birthday","constraint_email","constraint_password"],"checkCondition":["--  'name' field only contains letters and spaces\nname ~ '^[a-zA-Z ]+$'","--  phone - Phone number has to comprise of 9 digits\nLENGTH(CAST(phone AS text)) = 9 AND CAST(phone AS text) ~ '^[0-9]+$'","-- birthday - Birthday can't be earlier than 1904\nbirthday > '1904-01-01'\n","-- email - Email has to be in the format of '<string>@<string>.<string (len>2))>'\nemail ~ '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$'","-- password - Password has to be at least 4 characters long\nLENGTH(password) >= 4"]}},{"id":"01a19590-a4e5-411d-9030-8695379ac59b","position":{"x":785,"y":-197},"data":{"table_name":"employee","fields":[],"next_id":1,"checkName":[],"checkCondition":[]}},{"id":"71bf911b-25df-4dfd-a4fc-6681cc631683","position":{"x":204,"y":-194},"data":{"table_name":"assistant","fields":[],"next_id":2,"checkName":[],"checkCondition":[]}},{"id":"1c1b98be-02cf-4577-83d5-2f8969f93da3","position":{"x":950,"y":79},"data":{"table_name":"nurse","fields":[],"next_id":3,"checkName":[],"checkCondition":[]}},{"id":"d39769ad-1a66-4c9a-ade3-32e663ca42dd","position":{"x":509,"y":49},"data":{"table_name":"doctor","fields":[{"fieldName":"licence_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":true},{"fieldName":"university","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"graduation_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0"],"checkCondition":["--  'university' field only contains letters and spaces\nuniversity~ '^[a-zA-Z ]+$'"]}},{"id":"f8e51233-4986-43d0-8a47-86f911df6567","position":{"x":933,"y":770},"data":{"table_name":"patient","fields":[],"next_id":4,"checkName":[],"checkCondition":[]}},{"id":"1fe6237e-ca30-444e-9d9a-2b2ebae45a4d","position":{"x":1756,"y":533},"data":{"table_name":"appointment","fields":[{"fieldName":"app_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":true},{"fieldName":"app_date","fieldType":8,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":3,"checkName":[],"checkCondition":[]}},{"id":"90654a0d-6224-4864-8e1c-fadb7435e237","position":{"x":939,"y":524},"data":{"table_name":"surgery","fields":[{"fieldName":"surgery_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":true},{"fieldName":"type","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"surg_date","fieldType":8,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":5,"checkName":["constraint_1"],"checkCondition":["--  'type' field only contains letters and spaces\ntype~ '^[a-zA-Z ]+$'"]}},{"id":"0ec52791-c87e-4bbb-981c-21e8ceeb3a1e","position":{"x":327,"y":284},"data":{"table_name":"hospitalization","fields":[{"fieldName":"hosp_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":true},{"fieldName":"start_date","fieldType":8,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"end_date","fieldType":8,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":5,"checkName":["constraint_0"],"checkCondition":["-- start_date must be previous to end_date\nstart_date >= end_date"]}},{"id":"5876722a-a48f-4d8d-be05-8b3724b36076","position":{"x":259,"y":582},"data":{"table_name":"prescription","fields":[{"fieldName":"presc_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":true},{"fieldName":"validity","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":2,"checkName":[],"checkCondition":[]}},{"id":"8b7b46f1-dac4-483a-bf6f-1f1813c652ea","position":{"x":-103,"y":753},"data":{"table_name":"medication","fields":[{"fieldName":"med_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":true},{"fieldName":"med_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["--  'med_name' field only contains letters and spaces\nmed_name ~ '^[a-zA-Z ]+$'"]}},{"id":"436374c9-58a7-40e3-8d39-34ea3122d711","position":{"x":321,"y":998},"data":{"table_name":"side_effect","fields":[{"fieldName":"effect_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":true},{"fieldName":"symptom","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0"],"checkCondition":["--  'symptom' field only contains letters and spaces\nsymptom~ '^[a-zA-Z ]+$'"]}},{"id":"c7eea247-2764-4408-8eb8-58245a5660ef","position":{"x":1293,"y":-82},"data":{"table_name":"contract","fields":[{"fieldName":"contract_id","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":"","isAutoIncrement":true},{"fieldName":"start_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"end_date","fieldType":7,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":7,"checkName":["constraint_0"],"checkCondition":["-- start_date must be previous to end_date\nstart_date >= end_date;"]}},{"id":"573a5faa-52b4-4a09-b31a-f9cb7a1891a9","position":{"x":976,"y":869},"data":{"table_name":"bill","fields":[{"fieldName":"bill_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":true},{"fieldName":"total_cost","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"already_payed","fieldType":0,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"false","args":[1,1],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0","constraint_1","constraint_2"],"checkCondition":["-- 'total_cost' must be positive\ntotal_cost >= 0","-- 'already_paid' must be positive\nalready_paid >= 0","-- 'already_paid' must be <= than 'total_cost'\nalready_paid <= total_cost"]}},{"id":"c76e80a7-90a3-42b2-ab77-2425d81985df","position":{"x":2,"y":63},"data":{"table_name":"specialization","fields":[{"fieldName":"spec_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"spec_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":3,"checkName":["constraint_0"],"checkCondition":["--  'spec_name' field only contains letters and spaces\nspec_name~ '^[a-zA-Z ]+$'"]}},{"id":"8891d025-89a6-4772-a9a1-cd1e5a70bf33","position":{"x":-102,"y":996},"data":{"table_name":"effect_properties","fields":[{"fieldName":"probability","fieldType":4,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["8"],"isAutoIncrement":false},{"fieldName":"severity","fieldType":6,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["8","2"],"isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0","constraint_1"],"checkCondition":["-- 'severity' must be positive\nseverity> 0","-- 'probability' must be between 0 and 1\nprobability> 0 AND probability < 1"]}},{"id":"3455ff34-4043-4f1f-8c1c-21be097caa97","position":{"x":1577,"y":416},"data":{"table_name":"enrolment_appointment","fields":[],"next_id":1,"checkName":[],"checkCondition":[]}},{"id":"e60fdaf1-57d7-46f0-b317-3842b4049f61","position":{"x":1195,"y":407},"data":{"table_name":"enrolment_surgery","fields":[],"next_id":1,"checkName":[],"checkCondition":[]}},{"id":"32f35d89-7c84-4c61-a6d8-4ff7c64a15f9","position":{"x":1270,"y":1140},"data":{"table_name":"payment","fields":[{"fieldName":"payment_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":true},{"fieldName":"amount","fieldType":3,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":false},{"fieldName":"payment_method","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false},{"fieldName":"payment_date","fieldType":8,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false}],"next_id":5,"checkName":["constraint_0"],"checkCondition":["-- 'amount' must be positive\namount > 0"]}},{"id":"47dc8a5b-b56f-4cd4-840a-e71c6e2d433d","position":{"x":-109,"y":582},"data":{"table_name":"dose","fields":[{"fieldName":"amount","fieldType":2,"isPK":false,"isNotNull":true,"isUnique":false,"defaultValue":"","args":"","isAutoIncrement":false},{"fieldName":"time_of_day","fieldType":10,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":4,"checkName":["constraint_0","constraint_2"],"checkCondition":["-- 'amount' must be positive\namount > 0","-- 'time_of_day' has the domain morning, afternoon or evening\n(time_of_day IN ('morning', 'afternoon', 'evening'))"]}},{"id":"843395b3-52bb-4558-8524-67928038e4f8","position":{"x":1384,"y":70},"data":{"table_name":"rank","fields":[{"fieldName":"rank_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":true},{"fieldName":"rank_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0"],"checkCondition":["--  'rank_name' field only contains letters and spaces\nrank_name ~ '^[a-zA-Z ]+$'"]}},{"id":"e7b34858-cd38-4322-9d41-6e66cbd6ce0c","position":{"x":1346,"y":530},"data":{"table_name":"role","fields":[{"fieldName":"role_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":true},{"fieldName":"role_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0"],"checkCondition":["--  'role_name' field only contains letters and spaces\nrole_name ~ '^[a-zA-Z ]+$'"]}},{"id":"60a032d1-98a9-48b2-9c57-d7579c2ece41","position":{"x":1884,"y":664},"data":{"table_name":"app_type","fields":[{"fieldName":"type_id","fieldType":3,"isPK":true,"isNotNull":false,"isUnique":false,"defaultValue":"","args":[1,1],"isAutoIncrement":true},{"fieldName":"type_name","fieldType":10,"isPK":false,"isNotNull":true,"isUnique":true,"defaultValue":"","args":["512"],"isAutoIncrement":false}],"next_id":2,"checkName":["constraint_0"],"checkCondition":["--  'type_name' field only contains letters and spaces\ntype_name ~ '^[a-zA-Z ]+$'"]}}],"links":[{"source":"71bf911b-25df-4dfd-a4fc-6681cc631683","target":"01a19590-a4e5-411d-9030-8695379ac59b","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"1c1b98be-02cf-4577-83d5-2f8969f93da3","target":"01a19590-a4e5-411d-9030-8695379ac59b","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"d39769ad-1a66-4c9a-ade3-32e663ca42dd","target":"01a19590-a4e5-411d-9030-8695379ac59b","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"01a19590-a4e5-411d-9030-8695379ac59b","target":"17755cce-ae42-40b3-8c39-f58a99517fd8","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"f8e51233-4986-43d0-8a47-86f911df6567","target":"17755cce-ae42-40b3-8c39-f58a99517fd8","order":"parenting","sourceCard":"0:1","targetCard":"0:1","label":"complete","hierType":"complete","sourceisweak":false,"targetisweak":false},{"source":"0ec52791-c87e-4bbb-981c-21e8ceeb3a1e","target":"1c1b98be-02cf-4577-83d5-2f8969f93da3","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"is_responsible_for","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"d39769ad-1a66-4c9a-ade3-32e663ca42dd","target":"90654a0d-6224-4864-8e1c-fadb7435e237","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"conducts","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"0ec52791-c87e-4bbb-981c-21e8ceeb3a1e","target":"90654a0d-6224-4864-8e1c-fadb7435e237","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"requires","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"d39769ad-1a66-4c9a-ade3-32e663ca42dd","target":"1fe6237e-ca30-444e-9d9a-2b2ebae45a4d","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"conducts","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"f8e51233-4986-43d0-8a47-86f911df6567","target":"1fe6237e-ca30-444e-9d9a-2b2ebae45a4d","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"f8e51233-4986-43d0-8a47-86f911df6567","target":"0ec52791-c87e-4bbb-981c-21e8ceeb3a1e","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"undergoes","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"0ec52791-c87e-4bbb-981c-21e8ceeb3a1e","target":"5876722a-a48f-4d8d-be05-8b3724b36076","order":"normal","sourceCard":"0:1","targetCard":"0:n","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"5876722a-a48f-4d8d-be05-8b3724b36076","target":"1fe6237e-ca30-444e-9d9a-2b2ebae45a4d","order":"normal","sourceCard":"0:n","targetCard":"0:1","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"01a19590-a4e5-411d-9030-8695379ac59b","target":"c7eea247-2764-4408-8eb8-58245a5660ef","order":"normal","sourceCard":"1:1","targetCard":"1:1","label":"has","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"0ec52791-c87e-4bbb-981c-21e8ceeb3a1e","target":"573a5faa-52b4-4a09-b31a-f9cb7a1891a9","order":"normal","sourceCard":"0:1","targetCard":"1:1","label":"costs","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"1fe6237e-ca30-444e-9d9a-2b2ebae45a4d","target":"573a5faa-52b4-4a09-b31a-f9cb7a1891a9","order":"normal","sourceCard":"0:1","targetCard":"1:1","label":"costs","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"c76e80a7-90a3-42b2-ab77-2425d81985df","target":"d39769ad-1a66-4c9a-ade3-32e663ca42dd","order":"normal","sourceCard":"0:n","targetCard":"0:n","label":"has_specialization","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"c76e80a7-90a3-42b2-ab77-2425d81985df","target":"c76e80a7-90a3-42b2-ab77-2425d81985df","order":"normal","sourceCard":"0:1","targetCard":"0:n","label":"hierarchy","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"8b7b46f1-dac4-483a-bf6f-1f1813c652ea","target":"8891d025-89a6-4772-a9a1-cd1e5a70bf33","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"has","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"8891d025-89a6-4772-a9a1-cd1e5a70bf33","target":"436374c9-58a7-40e3-8d39-34ea3122d711","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"of","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"1c1b98be-02cf-4577-83d5-2f8969f93da3","target":"e60fdaf1-57d7-46f0-b317-3842b4049f61","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"enrols","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"e60fdaf1-57d7-46f0-b317-3842b4049f61","target":"90654a0d-6224-4864-8e1c-fadb7435e237","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"in","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"1c1b98be-02cf-4577-83d5-2f8969f93da3","target":"3455ff34-4043-4f1f-8c1c-21be097caa97","order":"normal","sourceCard":"1:1","targetCard":"0:n","label":"enrols","hierType":null,"sourceisweak":false,"targetisweak":true},{"source":"3455ff34-4043-4f1f-8c1c-21be097caa97","target":"1fe6237e-ca30-444e-9d9a-2b2ebae45a4d","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"in","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"32f35d89-7c84-4c61-a6d8-4ff7c64a15f9","target":"573a5faa-52b4-4a09-b31a-f9cb7a1891a9","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"pays","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"47dc8a5b-b56f-4cd4-840a-e71c6e2d433d","target":"5876722a-a48f-4d8d-be05-8b3724b36076","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"has_dosage","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"47dc8a5b-b56f-4cd4-840a-e71c6e2d433d","target":"8b7b46f1-dac4-483a-bf6f-1f1813c652ea","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"of","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"1c1b98be-02cf-4577-83d5-2f8969f93da3","target":"843395b3-52bb-4558-8524-67928038e4f8","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"has_rank","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"3455ff34-4043-4f1f-8c1c-21be097caa97","target":"e7b34858-cd38-4322-9d41-6e66cbd6ce0c","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"as","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"e60fdaf1-57d7-46f0-b317-3842b4049f61","target":"e7b34858-cd38-4322-9d41-6e66cbd6ce0c","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"as","hierType":null,"sourceisweak":true,"targetisweak":false},{"source":"843395b3-52bb-4558-8524-67928038e4f8","target":"843395b3-52bb-4558-8524-67928038e4f8","order":"normal","sourceCard":"0:1","targetCard":"0:n","label":"hierarchy","hierType":null,"sourceisweak":false,"targetisweak":false},{"source":"1fe6237e-ca30-444e-9d9a-2b2ebae45a4d","target":"60a032d1-98a9-48b2-9c57-d7579c2ece41","order":"normal","sourceCard":"0:n","targetCard":"1:1","label":"of_type","hierType":null,"sourceisweak":false,"targetisweak":false}],"normalization":1,"database":0}